{"version":3,"file":"main.js","sources":["../../util/randomization.js","../../util/comm.js","../../templates/view-model.js","../../templates/about/view-model.js","../../util/security.js","../../templates/recovery-questions/model.js","../../templates/recovery-questions/view-model.js","../../components/component.js","../../components/wizard/wizard.js","../../templates/wallet-create/view-model.js","../../templates/autoloader.js"],"sourcesContent":["\nexport default class Randomization {\n\n    /**\n     * Returns a whole random number in-between or at \"min\" and \"max\" values.\n     * @param {Number} min\n     * @param {Number} max\n     * @returns {Number}\n     */\n    static number(min, max) {\n        let n = Math.round(Math.random() * (max + 1 - min) + min);\n        n = n > max ? max : n;\n        n = n < min ? min : n;\n        return n;\n    }\n\n    static newid() {\n        return Randomization.number(1000000, 9999999).toString() +\n            Math.round(new Date().getTime() * 10000 * Math.random()).toString();\n    }\n}","\n/**\n * Utility class that helps facilitate communication between the Electron main process and the rendered content.\n */\nexport default class Comm {\n\n    /**\n     * Sends a communication to the Electron main process. If a callback function is provided, the function call is\n     * made asynchronously, awaiting a response on the same channel.\n     * @param {String} channel \n     * @param {*} arg \n     * @param {Function} [callback]\n     */\n    static send(channel, arg, callback) {\n        if (window.ipc) {\n            if (callback) {\n                window.ipc.send(channel, arg);\n                window.ipc.once(channel, callback);\n            } else {\n                return window.ipc.sendSync(channel, arg);\n            }\n        } else {\n            throw new Error('IPC not set - did the preload script run?');\n        }\n    }\n\n}","import Randomization from '../util/randomization.js';\nimport Comm from '../util/comm.js';\n\n/**\n * This is an abstract (non-initializable) class definition to be extended by an implementing view model class.\n * @class\n */\nexport default class ViewModel {\n\n    /**\n     * Constructs a ViewModel object, should only be called by an extending class via 'super'.\n     */\n    constructor() {\n        //validated\n        if (new.target === ViewModel) {\n            throw new Error('ViewModel is an abstract class and should not be initiated alone.');\n        } else if (typeof this.constructor.init !== 'function') {\n            throw new Error('Static function \"init\" must be implemented on the extending class.');\n        } else if (typeof this.render !== 'function') {\n            throw new Error('Function \"render\" must be implemented on the extending class.');\n        }\n        this.id = ViewModel.newid();\n        this.parent = null;\n        this.children = [];\n        this.element = null;\n        this.config = null;\n        //setup events and listeners\n        if (window && window.document) {\n            //fire render when the DOM is ready\n            var self = this;\n            document.addEventListener(\"DOMContentLoaded\", function () {\n                var classes = document.getElementsByTagName('body')[0].classList.add('view-ready');\n                //get the configuration\n                Comm.send('Wire', { path: 'config.read' }, function (e, arg) {\n                    self.config = arg.model;\n                    self.render();\n                });\n            });\n        }\n    }\n\n    /**\n     * Generates a new ID that can be used for a view.\n     * @returns {String}\n     */\n    static newid() {\n        let id = Randomization.newid();\n        return id;\n    }\n\n    /**\n     * Returns the view-model set on the HTML body, indicating the default view-model to initaialize.\n     */\n    static bodyViewModel() {\n        return document.getElementsByTagName('body')[0]\n            .getAttribute('data-view-model');\n    }\n\n    /**\n     * Adds a viewmodel to this one and renders under the specified element.\n     * @param {String} mvvm - The name of the mvvm to load.\n     * @param {String|HTMLElement} element \n     * @param {String} [id] - Optional id of the viewmodel entry. If not specified, a random value is chosen.\n     */\n    add(mvvm, element, id) {\n        if (typeof mvvm !== 'string') {\n            throw new Error('Argument \"mvvm\" must be a string.');\n        }\n        if (typeof element === 'string') {\n            element = document.querySelector(element);\n        }\n        if (element instanceof HTMLElement === false) {\n            throw new Error('Argument \"element\" was not an HTMLElement or could not be found by selector query.');\n        }\n        //locate and load the view and view-model into the element.\n        var mvvmDir = path.resolve(path.join(path.dirname(this.fileName), '..', mvvm));\n\n        //look for a view-model file\n        let vmFilePath = path.join(mvvmDir, 'view-model.js');\n        if (fs.existsSync(vmFilePath)) {\n            //setup\n            if (this.children == null || Array.isArray(this.children) === false) {\n                this.children = [];\n            }\n            var id = (id || ViewModel.newid());\n            if (this.contains(id)) {\n                throw new Error('The id specified is already in use.');\n            }\n            let div = document.createElement('div');\n            div.className = 'view view-' + mvvm;\n            div.innerHTML = fs.readFileSync(path.join(mvvmDir, 'view.html'), 'utf8');\n            div.id = 'view-' + id;\n            div.setAttribute('data-view-model-id', id);\n            //insert into the element\n            element.appendChild(div);\n            element.className = \"active-\" + mvvm;\n            //autoload and setup the view-model\n            let viewmodel = require(vmFilePath).init();\n            viewmodel.id = id\n            viewmodel.parent = this;\n            viewmodel.element = div;\n            //add the view-model to this view-model's children\n            this.children.push(viewmodel);\n            //check if the document ready-state has already fired\n            if (window && window.document) {\n                if (document.getElementsByTagName('body')[0].classList.contains('view-ready')) {\n                    viewmodel.render();\n                }\n            }\n            return viewmodel;\n        }\n        throw new Error(`A view-model could not be found under the mvvm \"${mvvm}\"`);\n    }\n\n    /**\n     * Removes a child viewmodel by the viewmodel id or instance.\n     * @param {String|ViewModel} vmid - The id of the viewmodel or a viewmodel instance.\n     * @returns {Boolean} - Returns true if a viewmodel was found and removed. \n     */\n    remove(vmid) {\n        if (this.children) {\n            var isObj = (typeof vmid === 'object');\n            for (var x = 0; x < this.children.length; x++) {\n                if ((isObj && vmid == this.children[x]) || (isObj === false && this.children[x].id === vmid)) {\n                    this.children[x].teardown();\n                    this.children.splice(x, 1);\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Removes all child viewmodels.\n     */\n    removeAll() {\n        if (this.children) {\n            for (var x = 0; x < this.children.length; x++) {\n                this.children[x].teardown();\n            }\n            this.children.length = 0;\n        }\n    }\n\n    /**\n     * Checks if the given child viewmodel exists by the viewmodel id or instance.\n     * @param {String|ViewModel} vmid - The id of the viewmodel or a viewmodel instance.\n     * @returns {Boolean}\n     */\n    contains(vmid) {\n        if (this.children) {\n            var isObj = (typeof vmid === 'object');\n            for (var x = 0; x < this.children.length; x++) {\n                if ((isObj && vmid == this.children[x]) || (isObj === false && this.children[x].id === vmid)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Called by a viewmodel parent when the view is about to be removed from the collection. \n     */\n    teardown() {\n        //delete the containing html element\n        if (this.element) {\n            this.element.remove();\n        }\n        //clear the parent\n        this.parent = null;\n    }\n\n}","import ViewModel from '../view-model.js';\n\nexport default class AboutViewModel extends ViewModel {\n    constructor() {\n        super();\n    }\n\n    static init() {\n        return new AboutViewModel();\n    }\n\n    render() {\n        $('.button-close').click(this, this.onCloseClick);\n    }\n\n    onCloseClick(e) {\n        window.close();\n    }\n\n}","\n/**\n * Utility class that provides functions for validating and working with secure information.\n */\nexport default class Security {\n\n    /**\n     * @typedef {Object} StrengthRank\n     * @property {String} label - The label of the level of strength.\n     * @property {Number} rank - The relative strength of the password as a fraction (0-1) with 1 being the strongest.\n     */\n\n    /**\n     * Evaluates the given password for strength. Returns a strength label and fractional rank (0-1). \n     * @param {String} password \n     * @returns {StrengthRank}\n     */\n    static strength(password) {\n        let lccCount = password.replace(/[^a-z]/g, '').length;\n        let uccCount = password.replace(/[^A-Z]/g, '').length;\n        let numCount = password.replace(/[^0-9]/g, '').length;\n        let splCount = password.replace(/[a-zA-Z\\d\\s]/g, '').length;\n        if (!password) {\n            return { label: 'None', rank: 0 };\n        }\n        let unqChars = [];\n        for (let x = 0; x < password.length; x++) {\n            if (unqChars.indexOf(password[x]) === -1) {\n                unqChars.push(password[x]);\n            }\n        }\n        // console.log(`Strength:\n        //     Length: ${(password.length > 14 ? 1 : password.length / 14)}\n        //     Unique: ${(unqChars.length > 14 ? 1 : unqChars.length / 14)}\n        //     `);\n        let strength =\n            ((password.length > 14 ? 1 : password.length / 14) * 0.3) + \n            ((unqChars.length > 14 ? 1 : unqChars.length / 14) * 0.45) +\n            ((\n                (lccCount > 0 ? 0.25 : 0) +\n                (uccCount > 0 ? 0.25 : 0) +\n                (numCount > 0 ? 0.25 : 0) +\n                (splCount > 0 ? 0.25 : 0)\n            ) * 0.25);\n        let text = '';\n        if (strength <= Security.StrengthNone) {\n            return { label: 'None', rank: strength };\n        } else if (strength <= Security.StrengthWeak) {\n            return { label: 'Weak', rank: strength };\n        } else if (strength <= Security.StrengthMedium) {\n            return { label: 'Medium', rank: strength };\n        } else if (strength <= Security.StrengthStrong) {\n            return { label: 'Strong', rank: strength };\n        } else if (strength <= Security.StrengthGreat) {\n            return { label: 'Great', rank: strength };\n        } else {\n            return { label: 'Superlumenal', rank: strength };\n        }\n    }\n\n}\n\nSecurity.StrengthNone = 0.2;\nSecurity.StrengthWeak= 0.5;\nSecurity.StrengthMedium = 0.65;\nSecurity.StrengthStrong = 0.75;\nSecurity.StrengthGreat = 0.85;\nSecurity.StrengthSuperlumenal = 1;","\nexport default class WalletCreateModel {\n    constructor() {\n\n        this.questions = [];\n\n        this.answers = [];\n        \n    }\n}","import Comm from '../../util/comm.js'\nimport Security from '../../util/security.js';\nimport ViewModel from '../view-model.js';\nimport Model from './model.js';\n\nconst MinQuestions = 5;\nconst MaxQuestions = 20;\n\nexport default class RecoveryQuestionsViewModel extends ViewModel {\n    constructor() {\n        super();\n\n        this.model = new Model();\n    }\n\n    static init() {\n        return new RecoveryQuestionsViewModel();\n    }\n\n    render() {\n        let self = this;\n        //add a q/a\n        Comm.send('Wire', { path: 'recovery.read' }, function (e, arg) {\n            if (arg && arg.model && arg.model.questions && arg.model.questions.length) {\n                for (let x = 0; x < arg.model.questions.length; x++) {\n                    let q = arg.model.questions[x];\n                    let a = arg.model.answers[x];\n                    let tr = self.addQARow(false, false);\n                    tr.find('.question').val(q);\n                    tr.find('.answer').val(a);\n                }\n                self.updateModel();\n                self.updateMetrics();\n            } else {\n                for (let x = 0; x < MinQuestions; x++) {\n                    self.addQARow(false, false);\n                }\n            }\n        });\n        //focus first input\n        $('input:visible:first').focus().select();\n        //help\n        $('#link-help-guidelines').click(this, this.onHelpGuidelinesClick);\n        //handle questions\n        $('.button-add-qa').click(this, this.onAddQAClick);\n        //footer buttons\n        $('.button-cancel').click(this, this.onCancelClick);\n        $('.button-save').click(this, this.onSaveClick);\n    }\n\n    onHelpGuidelinesClick(e) {\n        $('#help-guidelines').fadeToggle();\n    }\n\n    onDeleteQAClick(e) {\n        let self = e.data;\n        $(this).closest('tr').remove();\n        let qaCount = $('table.list tbody tr').length;\n        $('.button-add-qa').prop('disabled', (qaCount >= MaxQuestions));\n        self.updateMetrics();\n    }\n\n    onAddQAClick(e) {\n        let self = e.data;\n        self.addQARow(true, true);\n    }\n\n    onQAKeypress(e) {\n        let self = e.data;\n        self.updateMetrics();\n    }\n\n    onCancelClick(e) {\n        window.close();\n    }\n\n    onRemoveClick(e) {\n        let self = e.data;\n        //clear q & a\n        self.model.questions = [];\n        self.model.answers = [];\n        //TODO\n        window.close();\n    }\n\n    onSaveClick(e) {\n        let self = e.data;\n        let str = self.updateMetrics();\n        self.updateModel();\n        if (self.model.answers.length < MinQuestions) {\n            alert(`At least ${MinQuestions} questions must be configured.`);\n            return;\n        } else if (str.rank <= Security.StrengthWeak) {\n            alert(`Your total answer strength is too weak. Recovery records must have at least medium strength protection.`);\n            return;\n        }\n        Comm.send('Wire', { path: 'recovery.save', args: [self.model] }, function (e, arg) {\n            if (arg) {\n                if (arg.errors.length) {\n                    alert('Failed to save the recovery record:\\n' + arg.errors.join('\\n'));\n                } else {\n                    window.close();\n                }\n            } else {\n                alert('Unable to save recovery record settings due to the wallet being locked or unavailable.');\n            }\n        });\n    }\n\n    /**\n     * Updates the user interface with the current strength and Q&A metrics.\n     * @returns {Security.StrengthRank}\n     */\n    updateMetrics() {\n        let count = 0;\n        let concatpw = '';\n        //get count\n        $('table.list tr').each(function () {\n            let q = $(this).find('.question').val();\n            let a = $(this).find('.answer').val();\n            if (q && a) {\n                count++;\n                concatpw += a;\n            }\n        });\n        //get strength\n        let str = Security.strength(concatpw);\n        //update UI\n        $('.span-answer-count').text(count);\n        $('.span-answer-strength').text(str.label);\n        $('.button-save').prop('disabled', (count < 5));\n        return str;\n    }\n\n    /**\n     * Updates the model object with values from the DOM.\n     */\n    updateModel() {\n        let self = this;\n        self.model.questions = [];\n        self.model.answers = [];\n        $('table.list tr').each(function () {\n            let q = $(this).find('.question').val();\n            let a = $(this).find('.answer').val();\n            if (q && a) {\n                self.model.questions.push(q);\n                self.model.answers.push(a);\n            }\n        });\n    }\n\n    /**\n     * Adds a new Q & A row to the table.\n     * @param {Boolean} focus - If true, the new question input will be focused.\n     * @param {Boolean} scroll - If true, the document will scroll to the newly inserted row\n     */\n    addQARow(focus, scroll) {\n        let qaCount = $('table.list tbody tr').length;\n        if (qaCount < MaxQuestions) {\n            let html = `<tr>\n                <td><input type=\"text\" class=\"question\" placeholder=\"Enter: Question\" maxlength=\"128\" /></td>\n                <td><input type=\"text\" class=\"answer\" placeholder=\"Enter: Answer\" maxlength=\"896\" /></td>\n                <td class=\"text-right\"><button class=\"button\"><i class=\"fa fa-trash\"></i></button></td>\n            </tr>`;\n            let tr = $(html);\n            tr.find('.question, .answer').keyup(this, this.onQAKeypress);\n            tr.find('button').click(this, this.onDeleteQAClick);\n            $('table.list tbody').append(tr);\n            if (scroll) {\n                console.log('shouldnt happen');\n                window.scrollTo(0, document.body.scrollHeight);\n            }\n            if (focus) {\n                tr.find('input:first').focus();\n            }\n            qaCount++;\n            return tr;\n        }\n        $('.button-add-qa').prop('disabled', (qaCount >= MaxQuestions));\n        return null;\n    }\n\n}","/**\n * This is an abstract (non-initializable) class definition to be extended by an implementing component class.\n * @class\n */\nexport default class Component {\n\n    /**\n     * Constructs a ViewModel object, should only be called by an extending class via 'super'.\n     */\n    constructor() {\n        //validated\n        if (new.target === Component) {\n            throw new Error('Component is an abstract class and should not be initiated alone.');\n        } else if (typeof this.bind !== 'function') {\n            throw new Error('Function \"bind\" must be implemented on the extending class.');\n        }\n    }\n\n}","import Component from '../component.js';\n\n/**\n * Provides logic to transition from one wizard step (section) to another.\n * @class\n */\nexport default class Wizard extends Component {\n    constructor(container) {\n        super();\n        if ($(container).length === 0) {\n            throw new Error('Invalid wizard container element.');\n        }\n\n        this.container = $(container);\n\n        //ensure a step is active.\n        if (!this.container.find('>.wizard-step.active').length) {\n            this.goTo(0);\n        }\n    }\n\n    bind() {\n        this.container.find('>.wizard-step .button-next').click(this, this.onNext);\n        this.container.find('>.wizard-step .button-back').click(this, this.onBack);\n        //handle \"ENTER\" clicks\n        this.container.find('>.wizard-step').find('input,select,textarea').keypress(this, this.onEnter);\n        $('body').keypress(this, this.onEnter);\n        return this;\n    }\n\n    onEnter(e) {\n        let self = e.data;\n        if (self.container.is(':visible') && (e.keyCode === 13 || e.which === 13)) {\n            if (document.activeElement.tagName.match(/input|select|textarea|body/i)) {\n                let nextButton = self.container.find('>.wizard-step.active').closest('.wizard-step').find('.button-next');\n                if (!nextButton.prop('disabled')) {\n                    nextButton.click();\n                    e.preventDefault();\n                    return false;\n                }\n            }\n        }\n    }\n\n    onNext(e) {\n        let self = e.data;\n        if (!e.isDefaultPrevented()) {\n            self.next();\n        }\n    }\n\n    onBack(e) {\n        let self = e.data;\n        if (!e.isDefaultPrevented()) {\n            self.back();\n        }\n    }\n\n    next() {\n        let steps = this.container.find('>.wizard-step');\n        let activeIndex = steps.index(this.container.find('>.wizard-step.active'));\n        let maxIndex = this.container.find('>.wizard-step').length - 1;\n        if (activeIndex < maxIndex) {\n            this.goTo(++activeIndex);\n        }\n    }\n\n    back() {\n        let steps = this.container.find('>.wizard-step');\n        let activeIndex = steps.index(this.container.find('>.wizard-step.active'));\n        if (activeIndex > 0) {\n            this.goTo(--activeIndex);\n        }\n    }\n\n    goTo(step) {\n        let steps = this.container.find('>.wizard-step');\n        let activeIndex = steps.index(this.container.find('>.wizard-step.active'));\n        let targetIndex = -1;\n        let target = null;\n        if (typeof step === 'number') {\n            targetIndex = step;\n            target = $(steps[targetIndex]);\n        } else {\n            target = $(step);\n            targetIndex = steps.index(target);\n        }\n        if (targetIndex < 0) {\n            throw new Error(`Unable to find wizard step at index ${targetIndex}.`);\n        } else if (activeIndex !== targetIndex) {\n            this.container.find('>.wizard-step.active').removeClass('active');\n            target.addClass('active');\n            target.find('.wizard-default-focus').focus().select();\n        }\n    }\n\n    goToStart() {\n        this.goTo(0);\n    }\n\n    goToEnd() {\n        this.goTo(this.container.find('>.wizard-step').length - 1);\n    }\n}","import Comm from '../../util/comm.js'\nimport ViewModel from '../view-model.js';\nimport Wizard from '../../components/wizard/wizard.js';\nimport Security from '../../util/security.js';\n\nexport default class WalletCreateViewModel extends ViewModel {\n    constructor() {\n        super();\n    }\n\n    static init() {\n        return new WalletCreateViewModel();\n    }\n\n    render() {\n        $('input:visible:first').focus().select();\n        //open wallet link\n        $('#link-open-wallet').click(this, this.onOpenWalletClick);\n        //password section\n        $('.wizard-step-password input[name=\"text-password\"]').change(this, this.onPasswordChange);\n        $('.wizard-step-password input[name=\"text-password\"]').keyup(this, this.onPasswordChange);\n        $('.wizard-step-password input[name=\"text-password-confirm\"]').change(this, this.onPasswordConfirmChange);\n        $('.wizard-step-password input[name=\"text-password-confirm\"]').keyup(this, this.onPasswordConfirmChange);\n        $('.wizard-step-password .button-key-file').click(this, this.onKeyFileClick);\n        $('.wizard-step-password .button-key-file-generate').click(this, this.onKeyFileGenerateClick);\n        $('.wizard-step-password .button-key-file-about').click(this, this.onKeyFileAboutClick);\n        $('.wizard-step-password .button-next').click(this, this.onPasswordNextClick);\n        //recovery\n        $('.wizard-step-recovery input[type=\"checkbox\"]').change(this, this.onRecoveryChecked);\n        $('.wizard-step-recovery .button-setup-recovery').click(this, this.onConfigureRecovery);\n        //accounts\n        $('.wizard-step-accounts input[type=\"checkbox\"]').change(this, this.onNewAccountChecked);\n        $('.wizard-step-accounts .button-refresh-account').click(this, this.onRefreshAccountClick);\n        $('.wizard-step-accounts .button-account-id-copy').click(this, this.onAccountIDCopy);\n        $('.wizard-step-accounts .button-account-secret-copy').click(this, this.onAccountSecretCopy);\n        $('.wizard-step-accounts .button-complete').click(this, this.onCompleteClick);\n        //populate networks\n        if (this.config && this.config.networks) {\n            for (let x = 0; x < this.config.networks.length; x++) {\n                let nw = this.config.networks[x];\n                let opt = $(`<option value=\"${nw.url}\">${nw.label}</option>`).prop('selected', !!nw.default);\n                let select = $('.wizard-step-accounts #select-account-network');\n                opt.appendTo(select);\n            }\n        }\n        //generate a new address\n        this.onRefreshAccountClick();\n        //bind the wizard component\n        this.wizard = new Wizard($('.wizard')).bind();\n    }\n\n    onOpenWalletClick(e) {\n        Comm.send('MainWindow.openWallet', null, function (e, arg) {\n            if (arg) {\n                $('.view').fadeOut(function () {\n                    Comm.send('MainWindow.loadTemplate', 'wallet-open');\n                });\n            }\n        });\n    }\n\n    onPasswordChange(e) {\n        var self = e.data;\n        let pw = $('input[name=\"text-password\"]').val();\n        if (pw) {\n            let strength = Security.strength(pw);\n            $('.wizard-step-password .progress').removeClass('alert warning primary');\n            let text = '';\n            if (strength.rank <= Security.StrengthWeak) {\n                $('.progress').addClass('alert');\n            } else if (strength.rank <= Security.StrengthMedium) {\n                $('.progress').addClass('warning');\n            } else {\n                $('.progress').addClass('primary');\n            }\n            $('.wizard-step-password .progress .progress-meter')\n                .data('strength', strength.rank)\n                .css('width', (strength.rank * 100) + '%');\n            $('.wizard-step-password .progress .progress-meter-text').text(strength.label);\n        } else {\n            $('.wizard-step-password .progress .progress-meter').data('strength', 0);\n        }\n        self.onPasswordConfirmChange(e);\n    }\n\n    onPasswordConfirmChange(e) {\n        let pw = $('.wizard-step-password input[name=\"text-password\"]');\n        let cpw = $('.wizard-step-password input[name=\"text-password-confirm\"]');\n        let confirmed = (pw.val() === cpw.val());\n        $('.wizard-step-password .button-next').prop('disabled', !(confirmed && pw.val()));\n        if (confirmed) {\n            $(cpw).siblings('.input-group-label')\n                .find('.fa')\n                .removeClass('fa-warning')\n                .addClass('fa-check');\n        } else {\n            $(cpw).siblings('.input-group-label')\n                .find('.fa')\n                .removeClass('fa-check')\n                .addClass('fa-warning');\n        }\n    }\n\n    onKeyFileClick(e) {\n        let self = e.data;\n        let parent = self.parent; //hold onto ref after this view's teardown\n        let button = $('.button-key-file');\n        if (button.text() == 'Select Key-File') {\n            Comm.send('MainWindow.openKeyFile', null, function (e, arg) {\n                if (arg && arg.valid) {\n                    button\n                        .data('file-name', arg.keyFileName)\n                        .text('Remove Key-File')\n                        .removeClass('fa-key')\n                        .addClass('fa-trash');\n                    $('.wizard-step-password .button-key-file-generate').prop('disabled', button.data('file-name'));\n                }\n            });\n        } else {\n            button.data('file-name', '')\n                .text('Select Key-File')\n                .removeClass('fa-trash')\n                .addClass('fa-key');\n            $('.wizard-step-password .button-key-file-generate').prop('disabled', button.data('file-name'));\n        }\n        e.preventDefault();\n        return false;\n    }\n\n    onKeyFileGenerateClick(e) {\n        let self = e.data;\n        let parent = self.parent; //hold onto ref after this view's teardown\n        Comm.send('MainWindow.saveKeyFile', null, function (e, arg) {\n            if (arg && arg.valid) {\n                $('.wizard-step-password .button-key-file')\n                    .data('file-name', arg.keyFileName)\n                    .text('Remove Key-File')\n                    .removeClass('fa-key')\n                    .addClass('fa-trash');\n                $('.wizard-step-password .button-key-file-generate').prop('disabled', true);\n            }\n        });\n    }\n\n    onKeyFileAboutClick(e) {\n        alert(`A key-file is a small file containing random data. Key-files drastically increase the strength of the encryption used on your wallet, but you must always have access to the key-file when opening your wallet.\\n\\nLike passwords, you should keep the key-file secure and hidden away.`);\n    }\n\n    onPasswordNextClick(e) {\n        let self = e.data;\n        let pw = $('.wizard-step-password input[name=\"text-password\"]').val();\n        let kf = $('.wizard-step-password .button-key-file').data('file-name');\n        let strength = $('.wizard-step-password .progress .progress-meter').data('strength');\n        if (strength < Security.StrengthWeak) {\n            if (!confirm('Your password is weak, are you sure you want to continue?')) {\n                $('.wizard-step-password input[name=\"text-password\"]').focus().select();\n                e.preventDefault();\n                return false;\n            }\n        }\n        Comm.send('Wire', {\n            path: 'wallet.save', args: [{\n                label: 'My Wallet',\n                password: pw,\n                keyFilePath: kf\n            }]\n        }, function (e, arg) {\n            if (arg && arg.errors && arg.errors.length) {\n                console.error(arg.errors);\n                alert('Unable to set password and/or key file:\\n' + arg.errors.join(';\\n'));\n                self.wizard.back();\n            }\n        });\n    }\n\n    onRecoveryChecked(e) {\n        let recoveryEnabled = $('.wizard-step-recovery input[type=\"checkbox\"]').is(':checked');\n        let hasQA = $('.wizard-step-recovery .button-setup-recovery').data('hasQA');\n        $('.wizard-step-recovery .button-next').prop('disabled', recoveryEnabled && !hasQA);\n        $('.wizard-step-recovery .button-setup-recovery').prop('disabled', !recoveryEnabled);\n    }\n\n    onConfigureRecovery(e) {\n        let self = e.data;\n        let parent = self.parent; //hold onto ref after this view's teardown\n        Comm.send('MainWindow.showRecoveryQuestions', null, function (e, arg) {\n            $('.wizard-step-recovery .button-next').prop('disabled', !(arg && arg.qa > 0));\n            $('.wizard-step-recovery .button-setup-recovery').data('hasQA', (arg && arg.qa > 0));\n        });\n    }\n\n    onNewAccountChecked(e) {\n        let self = e.data;\n        let newAccount = $('.wizard-step-accounts input[type=\"checkbox\"]').is(':checked');\n        $('.wizard-step-accounts .text-account-id').prop('readonly', newAccount).val('');\n        $('.wizard-step-accounts .text-account-secret').prop('readonly', newAccount).val('');\n        if (newAccount) {\n            self.onRefreshAccountClick();\n            $('.wizard-step-accounts .button-refresh-account').show();\n        } else {\n            $('.wizard-step-accounts .button-refresh-account').hide();\n        }\n    }\n\n    onRefreshAccountClick(e) {\n        Comm.send('Wire', { path: 'accounts.gen' }, function (ev, arg) {\n            $('.wizard-step-accounts .text-account-id').val(arg.model.publicKey);\n            $('.wizard-step-accounts .text-account-secret').val(arg.model.privateKey);\n        });\n    }\n\n    onAccountIDCopy(e) {\n        let text = $('.wizard-step-accounts .text-account-id').val();\n        Comm.send('MainWindow.clipboard', { data: text, type: 'text', title: 'Superlumen: Clipboard', message: 'Account ID copied to clipboard.' });\n    }\n\n    onAccountSecretCopy(e) {\n        let text = $('.wizard-step-accounts .text-account-secret').val();\n        Comm.send('MainWindow.clipboard', { data: text, type: 'text', title: 'Superlumen: Clipboard', message: 'Secret copied to clipboard.' });\n    }\n\n    onCompleteClick(e) {\n        let self = e.data;\n        let accountID = $('.wizard-step-accounts .text-account-id').val().trim();\n        let secret = $('.wizard-step-accounts .text-account-secret').val().trim();\n        let networkElement = $('.select-account-network option:selected');\n        let network = {\n            label: networkElement.text(),\n            url: networkElement.val()\n        };\n        Comm.send('Wire', { path: 'accounts.verify', args: [accountID, secret] }, function (ev, arg) {\n            if (arg.model) {\n                Comm.send('Wire', { path: 'accounts.save', args: [{\n                    label: 'My Account',\n                    publicKey: accountID,\n                    privateKey: secret,\n                    network: network\n                }] }, function (ev2, arg2) {\n                    alert('save!');\n                });\n            } else {\n                alert('The Account ID or Secret is not valid.')\n                $('.wizard-step-accounts .text-account-id').focus().select();\n            }\n        });\n    }\n\n}","/*{VIEWMODEL-IMPORTS}*/\n\nconst ApplicationViewModels = {\n    /* The following tag is automatically replaced by rollup with key/values of each view-model \n       detected in the \"templates\" directory. */\n    /*{VIEWMODEL-DICTIONARY-ENTRIES}*/\n};\n\n//Perform automatic load based on URL location.\nif (window.location) {\n    let href = window.location.href;\n    let tmpPath = 'templates/';\n    let tmpIndex = href.indexOf(tmpPath);\n    if (tmpIndex >= 0) {\n        href = './' + href.substring(tmpIndex + tmpPath.length);\n        //remove the last path segment\n        href = href.substring(0, href.lastIndexOf('/') + 1);\n        if (ApplicationViewModels[href] && ApplicationViewModels[href].init) {\n            ApplicationViewModels[href].init();\n        } else {\n            console.info('No view-model found for path \"' + href + '\".')\n        }\n    }\n}"],"names":["Model"],"mappings":"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"}