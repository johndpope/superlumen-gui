{"version":3,"file":"main.js","sources":["../../util/randomization.js","../../templates/view-model.js","../../templates/about/view-model.js","../../util/comm.js","../../templates/wallet-create/model.js","../../templates/wallet-create/view-model.js","../../templates/autoloader.js"],"sourcesContent":["\nexport default class Randomization {\n\n    /**\n     * Returns a whole random number in-between or at \"min\" and \"max\" values.\n     * @param {Number} min\n     * @param {Number} max\n     * @returns {Number}\n     */\n    static number(min, max) {\n        let n = Math.round(Math.random() * (max + 1 - min) + min);\n        n = n > max ? max : n;\n        n = n < min ? min : n;\n        return n;\n    }\n\n    static newid() {\n        return Randomization.number(1000000, 9999999).toString() +\n            Math.round(new Date().getTime() * 10000 * Math.random()).toString();\n    }\n}","import Randomization from '../util/randomization.js';\n\n/**\n * This is an abstract (non-initializable) class definition to be extended by an implementing view model class.\n */\nexport default class ViewModel {\n\n    /**\n     * Constructs a ViewModel object, should only be called by an extending class via 'super'.\n     */\n    constructor() {\n        //validated\n        if (new.target === ViewModel) {\n            throw new Error('ViewModel is an abstract class and should not be initiated alone.');\n        } else if (typeof this.constructor.init !== 'function') {\n            throw new Error('Static function \"init\" must be implemented on the extending class.');\n        } else if (typeof this.render !== 'function') {\n            throw new Error('Function \"render\" must be implemented on the extending class.');\n        }\n        this.id = ViewModel.newid();\n        this.parent = null;\n        this.children = [];\n        this.element = null;\n        //setup events and listeners\n        if (window && window.document) {\n            //fire render when the DOM is ready\n            var self = this;\n            document.addEventListener(\"DOMContentLoaded\", function () {\n                var classes = document.getElementsByTagName('body')[0].classList.add('view-ready');\n                self.render();\n            });\n        }\n    }\n\n    /**\n     * Generates a new ID that can be used for a view.\n     * @returns {String}\n     */\n    static newid() {\n        let id = Randomization.newid();\n        return id;\n    }\n\n    /**\n     * Returns the view-model set on the HTML body, indicating the default view-model to initaialize.\n     */\n    static bodyViewModel() {\n        return document.getElementsByTagName('body')[0]\n            .getAttribute('data-view-model');\n    }\n\n    /**\n     * Adds a viewmodel to this one and renders under the specified element.\n     * @param {String} mvvm - The name of the mvvm to load.\n     * @param {String|HTMLElement} element \n     * @param {String} [id] - Optional id of the viewmodel entry. If not specified, a random value is chosen.\n     */\n    add(mvvm, element, id) {\n        if (typeof mvvm !== 'string') {\n            throw new Error('Argument \"mvvm\" must be a string.');\n        }\n        if (typeof element === 'string') {\n            element = document.querySelector(element);\n        }\n        if (element instanceof HTMLElement === false) {\n            throw new Error('Argument \"element\" was not an HTMLElement or could not be found by selector query.');\n        }\n        //locate and load the view and view-model into the element.\n        var mvvmDir = path.resolve(path.join(path.dirname(this.fileName), '..', mvvm));\n\n        //look for a view-model file\n        let vmFilePath = path.join(mvvmDir, 'view-model.js');\n        if (fs.existsSync(vmFilePath)) {\n            //setup\n            if (this.children == null || Array.isArray(this.children) === false) {\n                this.children = [];\n            }\n            var id = (id || ViewModel.newid());\n            if (this.contains(id)) {\n                throw new Error('The id specified is already in use.');\n            }\n            let div = document.createElement('div');\n            div.className = 'view view-' + mvvm;\n            div.innerHTML = fs.readFileSync(path.join(mvvmDir, 'view.html'), 'utf8');\n            div.id = 'view-' + id;\n            div.setAttribute('data-view-model-id', id);\n            //insert into the element\n            element.appendChild(div);\n            element.className = \"active-\" + mvvm;\n            //autoload and setup the view-model\n            let viewmodel = require(vmFilePath).init();\n            viewmodel.id = id\n            viewmodel.parent = this;\n            viewmodel.element = div;\n            //add the view-model to this view-model's children\n            this.children.push(viewmodel);\n            //check if the document ready-state has already fired\n            if (window && window.document) {\n                if (document.getElementsByTagName('body')[0].classList.contains('view-ready')) {\n                    viewmodel.render();\n                }\n            }\n            return viewmodel;\n        }\n        throw new Error(`A view-model could not be found under the mvvm \"${mvvm}\"`);\n    }\n\n    /**\n     * Removes a child viewmodel by the viewmodel id or instance.\n     * @param {String|ViewModel} vmid - The id of the viewmodel or a viewmodel instance.\n     * @returns {Boolean} - Returns true if a viewmodel was found and removed. \n     */\n    remove(vmid) {\n        if (this.children) {\n            var isObj = (typeof vmid === 'object');\n            for (var x = 0; x < this.children.length; x++) {\n                if ((isObj && vmid == this.children[x]) || (isObj === false && this.children[x].id === vmid)) {\n                    this.children[x].teardown();\n                    this.children.splice(x, 1);\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Removes all child viewmodels.\n     */\n    removeAll() {\n        if (this.children) {\n            for (var x = 0; x < this.children.length; x++) {\n                this.children[x].teardown();\n            }\n            this.children.length = 0;\n        }\n    }\n\n    /**\n     * Checks if the given child viewmodel exists by the viewmodel id or instance.\n     * @param {String|ViewModel} vmid - The id of the viewmodel or a viewmodel instance.\n     * @returns {Boolean}\n     */\n    contains(vmid) {\n        if (this.children) {\n            var isObj = (typeof vmid === 'object');\n            for (var x = 0; x < this.children.length; x++) {\n                if ((isObj && vmid == this.children[x]) || (isObj === false && this.children[x].id === vmid)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Called by a viewmodel parent when the view is about to be removed from the collection. \n     */\n    teardown() {\n        //delete the containing html element\n        if (this.element) {\n            this.element.remove();\n        }\n        //clear the parent\n        this.parent = null;\n    }\n\n}","import ViewModel from '../view-model.js';\n\nexport default class AboutViewModel extends ViewModel {\n    constructor() {\n        super();\n    }\n\n    static init() {\n        return new AboutViewModel();\n    }\n\n    render() { }\n\n}\n\n\nexport class TacowModel extends ViewModel {\n    constructor() {\n        super();\n    }\n\n    static init() {\n        return new AboutViewModel();\n    }\n\n    render() { }\n\n}","\n/**\n * Utility class that helps facilitate communication between the Electron main process and the rendered content.\n */\nexport default class Comm {\n\n    /**\n     * Sends a communication to the Electron main process. If a callback function is provided, the function call is\n     * made asynchronously, awaiting a response on the same channel.\n     * @param {String} channel \n     * @param {*} arg \n     * @param {Function} [callback]\n     */\n    static send(channel, arg, callback) {\n        if (window.ipc) {\n            if (callback) {\n                window.ipc.send(channel, arg);\n                window.ipc.once(channel, callback);\n            } else {\n                return window.ipc.sendSync(channel, arg);\n            }\n        }\n    }\n\n}","\nexport default class WalletCreateModel {\n    constructor() {\n        this.password = null;\n        this.keyFilePath = null;\n        this.recovery = {\n            enabled: true,\n            questions: null,\n            answers: null\n        },\n        this.accounts = null;\n    }\n}","import Comm from '../../util/comm.js'\nimport ViewModel from '../view-model.js';\nimport Model from './model.js';\n\nexport default class WalletCreateViewModel extends ViewModel {\n    constructor() {\n        super();\n\n        this.model = new Model();\n    }\n\n    static init() {\n        return new WalletCreateViewModel();\n    }\n\n    render() {\n        $('input:visible:first').focus().select();\n        //this.parent.changeLogoRotationSpeed(280);\n        $('#link-open-wallet').click(this, this.onOpenWalletClick);\n        //password section\n        $('input[name=\"text-password\"]').change(this, this.onPasswordChange);\n        $('input[name=\"text-password\"]').keyup(this, this.onPasswordChange);\n        $('input[name=\"text-password-confirm\"]').change(this, this.onPasswordConfirmChange);\n        $('input[name=\"text-password-confirm\"]').keyup(this, this.onPasswordConfirmChange);\n        $('.button-key-file').click(this, this.onKeyFileClick);\n        $('.button-key-file-generate').click(this, this.onKeyFileGenerateClick);\n    }\n\n    onOpenWalletClick(e) {\n        Comm.send('openWallet', null, function (e, arg) {\n            if (arg) {\n                $('.view').fadeOut(function () {\n                    Comm.send('loadTemplate', 'wallet-open');\n                });\n            }\n        });\n    }\n\n    onPasswordChange(e) {\n        var self = e.data;\n        let pw = $('input[name=\"text-password\"]').val();\n        let lcCount = pw.replace(/[^a-z]/g, '').length;\n        let ucCount = pw.replace(/[^A-Z]/g, '').length;\n        let numCount = pw.replace(/[^0-9]/g, '').length;\n        let splCount = pw.replace(/[a-zA-Z\\d\\s]/g, '').length;\n        let strength =\n            (lcCount > 0 ? 0.1 : 0) +\n            (ucCount > 0 ? 0.1 : 0) +\n            (numCount > 0 ? 0.1 : 0) +\n            (splCount > 0 ? 0.1 : 0) +\n            ((pw.length > 10 ? 1 : pw.length / 10) * 0.6);\n        if (pw) {\n            $('.wizard-step-password .progress').show().removeClass('alert warning primary');\n            let text = '';\n            if (strength <= 0.4) {\n                $('.progress').addClass('alert');\n                text = (strength > 0.2 ? 'weak' : '');\n            } else if (strength <= 0.6) {\n                $('.progress').addClass('warning');\n                text = 'medium';\n            } else if (strength <= 0.8) {\n                $('.progress').addClass('warning');\n                text = 'strong';\n            } else {\n                $('.progress').addClass('primary');\n                text = 'great';\n            }\n            $('.wizard-step-password .progress .progress-meter').css('width', (strength * 100) + '%');\n            $('.wizard-step-password .progress .progress-meter-text').text(text);\n        } else {\n            $('.wizard-step-password .progress').hide();\n        }\n        self.onPasswordConfirmChange(e);\n    }\n\n    onPasswordConfirmChange(e) {\n        let pw = $('input[name=\"text-password\"]');\n        let cpw = $('input[name=\"text-password-confirm\"]');\n        if (pw.val() != cpw.val()) {\n            $(cpw).siblings('.input-group-label')\n                .find('.fa')\n                .removeClass('fa-check')\n                .addClass('fa-warning');\n        } else {\n            $(cpw).siblings('.input-group-label')\n                .find('.fa')\n                .removeClass('fa-warning')\n                .addClass('fa-check');\n        }\n    }\n\n    onKeyFileClick(e) {\n        let self = e.data;\n        let parent = self.parent; //hold onto ref after this view's teardown\n        let button = $('.button-key-file');\n        if (button.text() == 'Add Key-File') {\n            Comm.send('openKeyFile', null, function (e, arg) {\n                if (arg && arg.valid) {\n                    button\n                        .data('file-name', arg.keyFileName)\n                        .text('Remove Key-File')\n                        .removeClass('fa-key')\n                        .addClass('fa-trash');\n                    $('.button-key-file-generate').prop('disabled', button.data('file-name'));\n                }\n            });\n        } else {\n            button.data('file-name', '')\n                .text('Add Key-File')\n                .removeClass('fa-trash')\n                .addClass('fa-key');\n            $('.button-key-file-generate').prop('disabled', button.data('file-name'));\n        }\n        e.preventDefault();\n        return false;\n    }\n\n    onKeyFileGenerateClick(e) {\n        let self = e.data;\n        let parent = self.parent; //hold onto ref after this view's teardown\n        Comm.send('saveKeyFile', null, function (e, arg) {\n            if (arg && arg.valid) {\n                $('.button-key-file')\n                    .data('file-name', arg.keyFileName)\n                    .text('Clear Key-File')\n                    .removeClass('fa-key')\n                    .addClass('fa-trash');\n                $('.button-key-file-generate').prop('disabled', true);\n            }\n        });\n    }\n\n}","/*{VIEWMODEL-IMPORTS}*/\n\nconst ApplicationViewModels = {\n    /* The following tag is automatically replaced by rollup with key/values of each view-model \n       detected in the \"templates\" directory. */\n    /*{VIEWMODEL-DICTIONARY-ENTRIES}*/\n};\n\n//Perform automatic load based on URL location.\nif (window.location) {\n    let href = window.location.href;\n    let tmpPath = 'templates/';\n    let tmpIndex = href.indexOf(tmpPath);\n    if (tmpIndex >= 0) {\n        href = './' + href.substring(tmpIndex + tmpPath.length);\n        //remove the last path segment\n        href = href.substring(0, href.lastIndexOf('/') + 1);\n        if (ApplicationViewModels[href] && ApplicationViewModels[href].init) {\n            ApplicationViewModels[href].init();\n        } else {\n            console.info('No view-model found for path \"' + href + '\".')\n        }\n    }\n}"],"names":["Model"],"mappings":"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"}